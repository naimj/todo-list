const handleSelect = (id) => {
  if (!props.selectable) return

  if (props.multiple) {
    const newSelected = new Set(selectedIds.value)
    const parent = findNodeById(props.items, id)

    if (newSelected.has(id)) {
      newSelected.delete(id)
    } else {
      newSelected.add(id)
      parent?.children && collectIds(parent.children).forEach(cid => newSelected.delete(cid))
    }

    emit('update:modelValue', [...newSelected])
  } else {
    emit('update:modelValue', selectedIds.value.has(id) ? null : id)
  }
}
----------------
const findNodeById = (items, id) =>
  items.reduce((found, item) => {
    if (found) return found
    if (item.id === id) return item
    return item.children ? findNodeById(item.children, id) : null
  }, null)
